# Set javac settings from JDT prefs
-include: ${build}/eclipse/jdt.bnd

Bundle-Description					: Remote Services test cases.

Export-Package 					= ${p}.common;version=1.0.0
	
Conditional-Package					= org.osgi.test.support.*
Private-Package						=  \
	${p}.*
	
Test-Cases							= ${testcases}

-buildpath							= \
    org.osgi.test.support;                  version=project , \
	osgi.core;								version=4.3.1	, \
	osgi.cmpn;								version=4.3.1	, \
	org.osgi.util.function;                 version=1.0.0   , \
	org.osgi.util.promise;                  version=1.0.0   , \
	${junit}

-runbundles							= \
    org.osgi.impl.service.log;                version=latest, \
    org.osgi.impl.service.cm;                 version=latest, \
    org.osgi.impl.service.event;              version=latest, \
	org.osgi.impl.service.metatype;           version=latest, \
	org.osgi.impl.service.http;               version=latest, \
	org.osgi.impl.service.remoteserviceadmin; version=latest, \
	org.osgi.util.function;                   version=latest, \
	org.osgi.util.promise;                    version=latest

-runvm = -Xmx512m, -XX:MaxPermSize=350m

-runproperties = ${runproperties}, \
	rsa.ct.timeout=30000,\
	rsa.ct.timeout.factor=3,\
	amdatu.remote.logging.level=0,\
	amdatu.remote.console.level=3,\
	org.amdatu.remote.discovery.bonjour.host=127.0.0.1,\
	${p}.framework.properties="org.osgi.service.http.port=@@FREE_PORT@@,equinox.use.ds=true,org.amdatu.remote.discovery.bonjour.host=127.0.0.1", \
	${p}.system.packages.extra="${junit.package}", \
    ${p}.serverconfig="service.exported.intents.extra,service.exported.configs", \
    service.exported.intents.extra="passByValue", \
    service.exported.configs="org.amdatu.remote.admin.http", \
	org.osgi.service.http.port=9191,\
    org.osgi.framework.bootdelegation=javax.*,\
    ${p}.bundles="${uniq;${repo;org.osgi.service.event;latest},${repo;org.osgi.impl.service.log;latest},${repo;org.osgi.impl.service.cm;latest},${repo;org.osgi.impl.service.metatype;latest},${repo;org.osgi.impl.service.http;latest},${repo;org.osgi.impl.service.remoteserviceadmin;latest}}"
