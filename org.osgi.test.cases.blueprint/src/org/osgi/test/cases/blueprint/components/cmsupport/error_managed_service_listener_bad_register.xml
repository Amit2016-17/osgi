<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
    xmlns:bpcm="http://www.osgi.org/xmlns/blueprint-cm/v1.0.0">

    <!-- This is both the service we export AND the listner for the service registrations -->
    <bean id="ManagedComponentListener" class="org.osgi.test.cases.blueprint.components.cmsupport.ManagedComponentListener">
        <argument value="ManagedComponentListener"/>
    </bean>

    <bpcm:managed-service-factory id="srvFactory1"
        factory-pid="org.osgi.test.cases.blueprint.components.cmsupport.configfactory1"
        interface="org.osgi.test.cases.blueprint.components.cmsupport.ManagedComponentInjection">
        <registration-listener ref="ManagedComponentListener"
            registration-method="registeredXXXXX"
            unregistration-method="unregistered"/>
        <bpcm:managed-component class="org.osgi.test.cases.blueprint.components.cmsupport.ManagedComponentInjection">
            <bpcm:managed-properties persistent-id=""/>
        </bpcm:managed-component>
    </bpcm:managed-service-factory>

    <!-- managed-properties take precedence <property>-->

</blueprint>
