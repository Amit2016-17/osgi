<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

    <description>
        This is just a simple exported service using a single interface and a ServiceFactory instance.
    </description>

    <!-- the node this service export maps into. -->
   <bean id="ServiceOneFactory" class="org.osgi.test.cases.blueprint.components.serviceexport.TestServiceFactory"
       init-method="init" destroy-method="destroy">
       <argument value="ServiceOneFactory"/>
   </bean>

   <bean id="ServiceOneListener" class="org.osgi.test.cases.blueprint.components.serviceexport.FactoryRegistrationStateListener">
       <argument value="ServiceOneListener"/>
       <!-- Another circular depdendency.  This allows us to check the service registration state
            during the listener calls -->
       <property name="registration" ref="ServiceOneFactoryService"/>
   </bean>

   <!-- simple export using a reference and just one interface. -->
    <service id="ServiceOneFactoryService" ref="ServiceOneFactory" interface="org.osgi.test.cases.blueprint.services.TestServiceOne">
        <registration-listener ref="ServiceOneListener"
            registration-method="registered"
            unregistration-method="unregistered"/>
    </service>
</blueprint>

