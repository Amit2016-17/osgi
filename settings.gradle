/*
 * Master Gradle initialization script
 *
 * Depends on bnd_* values from gradle.properties.
 */

/* Add bnd gradle plugin as a script dependency */
buildscript {
  repositories {
    maven {
      url uri(bnd_repourl)
    }
  }
  dependencies {
    classpath bnd_plugin
  }
  /* Add bnd gradle plugin to buildscript classpath of rootProject */
  def bndPlugin = files(configurations.classpath.files)
  gradle.projectsLoaded { gradle ->
    gradle.rootProject.buildscript {
      dependencies {
        classpath bndPlugin
      }
    }
  }
}

apply plugin: 'biz.aQute.bnd.workspace'
