/*
 * osgi.build Gradle build script
 */

def buildProject = project

/* Configure the workspace project */
configure(parent) {
  layout.buildDirectory.value(buildProject.layout.buildDirectory)

  def build = tasks.register('build') {
    dependsOn buildProject.absoluteProjectPath('jar')
    dependsOn buildProject.absoluteProjectPath('releaseNeeded')
    description 'Assembles and releases the ${buildProject.name} project.'
    group 'build'
  }
  defaultTasks += absoluteProjectPath(build.name)
}
